{
  "experiment-options": {
    "workflow": "rsm.workflows.composite_gan_video_workflow",
    "dataset": "rsm.datasets.mnist_moving_infinite_dataset",
    "component": "rsm.components.composite_rsm_stack",
    "batches": 30000,
    "seed": 52,

    "checkpoint": "gs://project-agi/experiments/200831-0821/summaries_20200831-082244/model.ckpt-30000",



    "hparams_override": {
      "batch_size": 100,
      "build_ae": true,
      "build_rsm": true,
      "build_gan": false,

      "gan_rsm_input": "decoding",

      "ae_stack_batch_size": 100,
      "ae_stack_num_layers": 1,
      "ae_stack_sum_norm": [-1],
      "ae_stack_secondary": [true],
      "ae_stack_summarize_decoding": [true],

      "ae_stack_encoder_nonlinearity": ["tanh"],
      "ae_stack_decoder_nonlinearity": ["sigmoid"],
      "ae_stack_filters": [24],
      "ae_stack_filters_field_width": [5, 5, 5],
      "ae_stack_filters_field_height": [5, 5, 5],
      "ae_stack_filters_field_stride": [2],
      "ae_stack_inhibition_decay": [0.0],
      "ae_stack_use_max_pool": ["none"],

      "ae_stack_sparsity": [2],
      "ae_stack_sparsity_output_factor": [1.0],
      "ae_stack_use_lifetime_sparsity": [false],

      "rsm_stack_num_layers": 2,
      "rsm_stack_batch_size": 100,
      "rsm_stack_loss_type": "mse",
      "rsm_stack_connectivity": "bi",
      "rsm_stack_memory_training_interval": [0, -1],
      "rsm_stack_memory_summarize_input": false,
      "rsm_stack_memory_summarize_encoding": false,
      "rsm_stack_memory_summarize_decoding": true,
      "rsm_stack_memory_summarize_weights": false,
      "rsm_stack_memory_summarize_freq": false,
      "rsm_stack_layer_mass": 0.0,
      "rsm_stack_predictor_optimize": "reconstruction",
      "rsm_stack_hidden_nonlinearity": "tanh",
      "rsm_stack_decode_nonlinearity": ["tanh", "tanh"],
      "rsm_stack_decode_mode": ["conv", "conv"],
      "rsm_stack_sparsity": [30, 25],
      "rsm_stack_cols": [1024, 1024],
      "rsm_stack_cells_per_col": [1, 1],

      "rsm_stack_freq_min": 0.01,
      "rsm_stack_freq_update_interval": -1,
      "rsm_stack_freq_learning_rate": 0.1,

      "rsm_stack_inhibition_decay": [0.4, 0.4],
      "rsm_stack_boost_factor": [0.0, 0.0],
      "rsm_stack_boost_factor_decay": [0.0, 0.0],
      "rsm_stack_boost_factor_update_interval": [0, 0],

      "rsm_stack_f_keep_rate": [1.0, 1.0],
      "rsm_stack_f_decay_rate": [0.0, 0.0],
      "rsm_stack_rb_decay_rate": [0.5, 0.5],
      "rsm_stack_rb_keep_rate": [1.0, 1.0],
      "rsm_stack_hidden_keep_rate": [1.0, 1.0],
      "rsm_stack_rb_norm_type": ["sum", "sum"],

      "rsm_stack_filters_field_width": [4, 3],
      "rsm_stack_filters_field_height": [4, 3],
      "rsm_stack_filters_field_stride": [2, 1],
      "rsm_stack_pool_size": [2, 1],

      "rsm_stack_f_l2": [0.0, 0.0],
      "rsm_stack_r_l2": [0.0, 0.0],
      "rsm_stack_b_l2": [0.0, 0.0],
      "rsm_stack_d_l2": [0.0, 0.0],

      "rsm_stack_f_init_type":["truncated_normal", "truncated_normal"],
      "rsm_stack_r_init_type":["truncated_normal", "truncated_normal"],
      "rsm_stack_b_init_type":["truncated_normal", "truncated_normal"],
      "rsm_stack_d_init_type":["truncated_normal", "truncated_normal"],

      "rsm_stack_f_init_sd": [0.03, 0.03],
      "rsm_stack_r_init_sd": [0.03, 0.03],
      "rsm_stack_b_init_sd": [0.03, 0.03],
      "rsm_stack_d_init_sd": [0.03, 0.03],

      "rsm_stack_f_bias":[true, true],
      "rsm_stack_r_bias":[false, false],
      "rsm_stack_b_bias":[false, false],
      "rsm_stack_d_bias":[true, true],

      "rsm_stack_f_bias_init_type":["zero", "zero"],
      "rsm_stack_r_bias_init_type":["zero", "zero"],
      "rsm_stack_b_bias_init_type":["zero", "zero"],
      "rsm_stack_d_bias_init_type":["zero", "zero"]
    }
  },
  "export-options": {
    "interval_batches": 1000
  },
  "workflow-options": {
    "train": true,
    "evaluate": true,
    "summarize": true,

    "pretrain_steps": 0,

    "prime": true,
    "prime_num_frames": 10,

    "num_testing_batches": 100,
    "testing_progress_interval": 10,

    "frame_padding_size": 2,
    "frame_padding_value": 0.5,
    "frame_output": "rsm"
  }
}
